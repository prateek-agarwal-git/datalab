/* Testing Code */

#include <limits.h>
#include <math.h>

/* Routines used by floation point test code */

/* Convert from bit level representation to floating point number */
float u2f(unsigned u) {
  union {
    unsigned u;
    float f;
  } a;
  a.u = u;
  return a.f;
}

/* Convert from floating point number to bit-level representation */
unsigned f2u(float f) {
  union {
    unsigned u;
    float f;
  } a;
  a.f = f;
  return a.u;
}

//1
int test_bitXor(int x, int y)
{
  return x^y;
}
int test_tmin(void) {
  return 0x80000000;
}
//2
int test_isTmax(int x) {
    return x == 0x7FFFFFFF;
}
int test_allOddBits(int x) {
  int i;
  for (i = 1; i < 32; i+=2)
      if ((x & (1<<i)) == 0)
   return 0;
  return 1;
}


int test_negate(int x) {
  return -x;
}
//3


int test_isAsciiDigit(int x) {
  return (0x30 <= x) && (x <= 0x39);
}
int test_conditional(int x, int y, int z)
{
  return x?y:z;
}
int test_isLessOrEqual(int x, int y)
{
  return x <= y;
}
//4
int test_logicalNeg(int x)
{
  return !x;
}
int test_howManyBits(int x) {
    unsigned int a, cnt;
    x = x<0 ? -x-1 : x;
    a = (unsigned int)x;
    for (cnt=0; a; a>>=1, cnt++)
        ;

    return (int)(cnt + 1);
}
//float
unsigned test_floatScale2(unsigned uf) {
  float f = u2f(uf);
  float tf = 2*f;
  if (isnan(f))
    return uf;
  else
    return f2u(tf);
}
int test_floatFloat2Int(unsigned uf) {
  float f = u2f(uf);
  int x = (int) f;
  return x;
}
unsigned test_floatPower2(int x) {
  unsigned negative[160]= {0,1056964608,1048576000,1040187392,1031798784,1023410176,1015021568,1006632960,998244352,989855744,981467136,973078528,964689920,956301312,947912704,939524096,931135488,922746880,914358272,905969664,897581056,889192448,880803840,872415232,864026624,855638016,847249408,838860800,830472192,822083584,813694976,805306368,796917760,788529152,780140544,771751936,763363328,754974720,746586112,738197504,729808896,721420288,713031680,704643072,696254464,687865856,679477248,671088640,662700032,654311424,645922816,637534208,629145600,620756992,612368384,603979776,595591168,587202560,578813952,570425344,562036736,553648128,545259520,536870912,528482304,520093696,511705088,503316480,494927872,486539264,478150656,469762048,461373440,452984832,444596224,436207616,427819008,419430400,411041792,402653184,394264576,385875968,377487360,369098752,360710144,352321536,343932928,335544320,327155712,318767104,310378496,301989888,293601280,285212672,276824064,268435456,260046848,251658240,243269632,234881024,226492416,218103808,209715200,201326592,192937984,184549376,176160768,167772160,159383552,150994944,142606336,134217728,125829120,117440512,109051904,100663296,92274688,83886080,75497472,67108864,58720256,50331648,41943040,33554432,25165824,16777216,8388608,4194304,2097152,1048576,524288,262144,131072,65536,32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,0};
unsigned positive[160]={1065353216,1073741824,1082130432,1090519040,1098907648,1107296256,1115684864,1124073472,1132462080,1140850688,1149239296,1157627904,1166016512,1174405120,1182793728,1191182336,1199570944,1207959552,1216348160,1224736768,1233125376,1241513984,1249902592,1258291200,1266679808,1275068416,1283457024,1291845632,1300234240,1308622848,1317011456,1325400064,1333788672,1342177280,1350565888,1358954496,1367343104,1375731712,1384120320,1392508928,1400897536,1409286144,1417674752,1426063360,1434451968,1442840576,1451229184,1459617792,1468006400,1476395008,1484783616,1493172224,1501560832,1509949440,1518338048,1526726656,1535115264,1543503872,1551892480,1560281088,1568669696,1577058304,1585446912,1593835520,1602224128,1610612736,1619001344,1627389952,1635778560,1644167168,1652555776,1660944384,1669332992,1677721600,1686110208,1694498816,1702887424,1711276032,1719664640,1728053248,1736441856,1744830464,1753219072,1761607680,1769996288,1778384896,1786773504,1795162112,1803550720,1811939328,1820327936,1828716544,1837105152,1845493760,1853882368,1862270976,1870659584,1879048192,1887436800,1895825408,1904214016,1912602624,1920991232,1929379840,1937768448,1946157056,1954545664,1962934272,1971322880,1979711488,1988100096,1996488704,2004877312,2013265920,2021654528,2030043136,2038431744,2046820352,2055208960,2063597568,2071986176,2080374784,2088763392,2097152000,2105540608,2113929216,2122317824,2130706432,2139095040};
  if (x >= 128){
  	return positive[128];
  }
  if (x<=-150){
	  return 0;
	}
  if (x>=0)return positive[x];
  else {
	  int index = -x;
	  return negative[index];
  }
  return 1;
}
